/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package sistema_registro;

import Atxy2k.CustomTextField.RestrictedTextField;
import java.sql.*;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import sistema_registro.SQL.ConectorSQL;
import codigo.Conexion_consulta;
import java.awt.Color;
import java.awt.Toolkit;
import javax.swing.JOptionPane;
import javax.swing.JPasswordField;
import javax.swing.JTextField;
import javax.swing.SwingConstants;
import javax.swing.table.DefaultTableCellRenderer;

/**
 *
 * @author William
 */
public class Empleado extends javax.swing.JFrame {
     
    String titulos [] = {"Id Empleado","Nombre","Apellido", "Salario", "Telefono", "Identidad", " idCampus", "NombreUsuario", "tipoUsuario"};
    //String fila [] = new String[9];
    DefaultTableModel modelo =  new DefaultTableModel();
    Connection con = null;
    Statement stmt = null;
    String var, var2;
    
    
    private void LimpiarCajas(){
        txt_Nombre.setText(null);
        txt_Apellido.setText(null);
        txt_Telefono.setText(null);
        txt_Salario.setText(null);
        txt_Identidad.setText(null);
       cbo_idCampus.setSelectedIndex(0);
        txt_NombreUsuario.setText(null);
        pwd_contraseña.setText(null);

    }
    

    /**
     * Creates new form RegistroEmpleado
     */
    
    public Empleado() throws SQLException {
        this.con = ConectorSQL.obtenerConexion();
        initComponents();
             ArrayList<String> lista = new ArrayList<String>();
             lista = new Conexion_consulta().llenar_combo();
            for(int i = 0; i<lista.size();i++){
                cbo_idCampus.addItem(lista.get(i));
            }
            this.setLocationRelativeTo(null);
    } 
    
    public Empleado(String nombreUsuario) throws SQLException {
        this.con = ConectorSQL.obtenerConexion();
        initComponents();
             ArrayList<String> lista = new ArrayList<String>();
             lista = new Conexion_consulta().llenar_combo();
            for(int i = 0; i<lista.size();i++){
                cbo_idCampus.addItem(lista.get(i));
            }
        String usuario = nombreUsuario;
        this.lbl_usuario.setText(usuario);
        this.setLocationRelativeTo(null);
    } 
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    
    
   // public void AutoCompletar () {
//ResultSet rs= null;
//TextAutoCompletar tac = new TextAutompletar (txt_Nombre);
   // }

    
   /* 
     public void ConsultaIndividual() {
        String cap="";
        ResultSet  rs = null;
        var2 = var;
        String sql= "select nombres_empleado,apellido_empleado,salario,telefono_empleado,numero_identidad,nombre_usuario,id_campus,tipo_usuario  from Empleados as e join\n" +
        "Acceso as a on e.id_empleado = a.id_empleado";

   try { 
	stmt = con.createStatement(); 
        rs = stmt.executeQuery(sql); 

	int i=1; 
	   while ( rs.next() ) { 
	           String Nombre = rs.getString("nombres_empleado"); 
	           String Apellido = rs.getString("apellido_empleado"); 
                   String Salario= rs.getString("salario"); 
                   String Telefono = rs.getString("telefono_empleado"); 
                   String Identidad = rs.getString("numero_identidad");
                   String idCampus = rs.getString("id_campus");
                   String NombreUsuario = rs.getString("tipo_usuario");
                    txt_Nombre.setText(Nombre);
                    txt_Apellido.setText(Apellido);
                    txt_Salario.setText(Salario);
                    txt_Telefono.setText(Telefono);
                    txt_Identidad.setText(Identidad);
                    cbo_idCampus.setSelectedItem(idCampus);
                    txt_NombreUsuario.setText(NombreUsuario);
                    pwd_contraseña.setText(contraseña);
                    cbo_tipoUsuario.setSelectedItem(tipoUsuario);
	         } 
	        } 
catch( SQLException ex ) { 
ex.printStackTrace(); 
	                  } catch (InstantiationException ex) { 
            Logger.getLogger(Empleado.class.getName()).log(Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            Logger.getLogger(Empleado.class.getName()).log(Level.SEVERE, null, ex);
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(Empleado.class.getName()).log(Level.SEVERE, null, ex);
        } 
	
	finally { 
	                  if ( rs != null ) { 
	                      try    {
	rs.close();
                             } catch( SQLException ex ) { 
	System.out.println( ex.getMessage()); 
	ex.printStackTrace(); 
	                      } 
	                  } 
	                  if ( stmt != null ) { 
	                      try    {
	stmt.close(); 
	                      } catch( SQLException ex ) { 
	System.out.println( ex.getMessage()); 
	ex.printStackTrace(); 
	                      } 
	                  } 
	                  if ( con != null ) { 
	                      try    {
	con.close(); 
	                      } catch( SQLException ex ) { 
	System.out.println( ex.getMessage()); 
	ex.printStackTrace(); 
         } 
       }
     }    
    
             
    }
     */
     
     
     
      public void Actualizar() {

    String cadena1,cadena2,cadena3,cadena4,cadena5,cadena6,cadena7,cadena8,cadena9;

       cadena1 = txt_Nombre.getText();
       cadena2 = txt_Apellido.getText();
       cadena3 = txt_Salario.getText();
       cadena4 = txt_Telefono.getText();
       cadena5 = txt_Identidad.getText();
       cadena6 = (String) cbo_idCampus.getSelectedItem();
       cadena7 = txt_NombreUsuario.getText();
       cadena8 = pwd_contraseña.getText();
       cadena9 = cbo_tipoUsuario.getSelectedItem().toString();


     if (txt_Nombre.getText().equals("")) {

javax.swing.JOptionPane.showMessageDialog(this,"1-. Consulte el nombre del empleado\n 2-. Actualice el dato deseado en el campo correspondiente","AVISO!",javax.swing.JOptionPane.INFORMATION_MESSAGE);
}
     else {   

     try { 
         
stmt = con.createStatement(); 
stmt.executeUpdate("update ignore usuarios set Nombre= '"+cadena1+"' , Apellido = '"+cadena2+"',Salario = '"+cadena3+"',Telefono = '"+cadena4+"', idCampus = '"+cadena5+"', NombreUsuario = "+cadena6+": contraseña = '"+cadena7+"', tipoUsuario = '"+cadena8+"' where Nombre= '"+txt_Nombre.getText()+"' || Apellido = '"+txt_Apellido.getText()+"' || Salario = '"+txt_Salario.getText()+"' || Telefono = '"+txt_Telefono.getText()+"' || idCampus = '"+cbo_idCampus.getSelectedItem()+"' || contraseña= '"+pwd_contraseña.getText()+"' || tipoUsuario = '"+cbo_tipoUsuario.getSelectedItem()+"'"); 

System.out.println("Los valores han sido Actualizados"); 
} 
catch( SQLException e ) { 
e.printStackTrace(); 
                  } 

finally { 
                  if ( con != null ) { 
                      try    {
con.close(); 
stmt.close(); 
                      } catch( Exception e ) { 
System.out.println( e.getMessage()); 
                      } 
                  } 
     }
javax.swing.JOptionPane.showMessageDialog(this,"Actualizado Correctamente!","AVISO!",javax.swing.JOptionPane.INFORMATION_MESSAGE);
     } 
this.txt_Nombre.setText("");
this.txt_Apellido.setText("");
this.txt_Salario.setText("");
this.txt_Telefono.setText("");
this.txt_Identidad.setText("");
this.cbo_idCampus.setSelectedItem("");
this:txt_NombreUsuario.setText("");
this.pwd_contraseña.setText("");
this.cbo_tipoUsuario.setSelectedItem("");
    }
     
     
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jButton1 = new javax.swing.JButton();
        txt_Nombre = new javax.swing.JTextField();
        txt_Apellido = new javax.swing.JTextField();
        lbl_nombres = new javax.swing.JLabel();
        lbl_apellidos = new javax.swing.JLabel();
        lbl_salario = new javax.swing.JLabel();
        txt_Salario = new javax.swing.JTextField();
        lbl_nombreUsuario = new javax.swing.JLabel();
        txt_NombreUsuario = new javax.swing.JTextField();
        lbl_contraseña = new javax.swing.JLabel();
        btn_guardar = new javax.swing.JButton();
        lbl_telefono = new javax.swing.JLabel();
        lbl_idCampus = new javax.swing.JLabel();
        txt_Telefono = new javax.swing.JTextField();
        cbo_idCampus = new javax.swing.JComboBox<>();
        pwd_contraseña = new javax.swing.JPasswordField();
        btn_Eliminar = new javax.swing.JButton();
        lbl_titulo = new javax.swing.JLabel();
        chb_mostrarContraseña = new javax.swing.JCheckBox();
        lbl_tipoUsuario = new javax.swing.JLabel();
        cbo_tipoUsuario = new javax.swing.JComboBox<>();
        btn_consultar = new javax.swing.JButton();
        btn_Actualizar = new javax.swing.JButton();
        lbl_identidad = new javax.swing.JLabel();
        txt_Identidad = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        Tabla_Empleados = new javax.swing.JTable();
        btn_Limpiar = new javax.swing.JButton();
        lbl_usuario = new javax.swing.JLabel();
        btn_rellenarCampos = new javax.swing.JButton();
        jMenuBar1 = new javax.swing.JMenuBar();
        jMenu1 = new javax.swing.JMenu();
        cbo_MenuPrincipal = new javax.swing.JMenuItem();
        cbo_ConsultaIndividual = new javax.swing.JCheckBoxMenuItem();

        jButton1.setText("jButton1");

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setResizable(false);

        txt_Nombre.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        txt_Nombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_NombreActionPerformed(evt);
            }
        });
        txt_Nombre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_NombreKeyTyped(evt);
            }
        });

        txt_Apellido.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        txt_Apellido.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_ApellidoKeyTyped(evt);
            }
        });

        lbl_nombres.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_nombres.setText("Nombres");

        lbl_apellidos.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_apellidos.setText("Apellidos");

        lbl_salario.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_salario.setText("Salario");

        txt_Salario.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        txt_Salario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_SalarioActionPerformed(evt);
            }
        });
        txt_Salario.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_SalarioKeyTyped(evt);
            }
        });

        lbl_nombreUsuario.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_nombreUsuario.setText("Nombre De Usuario");

        txt_NombreUsuario.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        txt_NombreUsuario.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_NombreUsuarioKeyTyped(evt);
            }
        });

        lbl_contraseña.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_contraseña.setText("Contraseña");

        btn_guardar.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        btn_guardar.setText("Guardar");
        btn_guardar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_guardarActionPerformed(evt);
            }
        });

        lbl_telefono.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_telefono.setText("Teléfono");

        lbl_idCampus.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_idCampus.setText("ID Campus");

        txt_Telefono.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        txt_Telefono.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_TelefonoKeyTyped(evt);
            }
        });

        cbo_idCampus.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        cbo_idCampus.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Seleccione un campus" }));
        cbo_idCampus.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbo_idCampusActionPerformed(evt);
            }
        });

        pwd_contraseña.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        pwd_contraseña.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                pwd_contraseñaActionPerformed(evt);
            }
        });
        pwd_contraseña.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                pwd_contraseñaKeyTyped(evt);
            }
        });

        btn_Eliminar.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        btn_Eliminar.setText("Eliminar");
        btn_Eliminar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_limpiarActionPerformed(evt);
            }
        });

        lbl_titulo.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        lbl_titulo.setText("Registro de Empleado");

        chb_mostrarContraseña.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        chb_mostrarContraseña.setText("Mostrar contraseña");
        chb_mostrarContraseña.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chb_mostrarContraseñaActionPerformed(evt);
            }
        });

        lbl_tipoUsuario.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_tipoUsuario.setText("Tipo Usuario");

        cbo_tipoUsuario.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        cbo_tipoUsuario.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Seleccione un tipo de usuario", "Empleado", "Administrador", "Supervisor" }));
        cbo_tipoUsuario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbo_tipoUsuarioActionPerformed(evt);
            }
        });

        btn_consultar.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        btn_consultar.setText("Consulta");
        btn_consultar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_consultarActionPerformed(evt);
            }
        });

        btn_Actualizar.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        btn_Actualizar.setText("Actualizar");
        btn_Actualizar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_ActualizarActionPerformed(evt);
            }
        });

        lbl_identidad.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lbl_identidad.setText("Identidad");

        txt_Identidad.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        txt_Identidad.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_IdentidadKeyTyped(evt);
            }
        });

        Tabla_Empleados.setBackground(new java.awt.Color(204, 204, 204));
        Tabla_Empleados.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        Tabla_Empleados.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null}
            },
            new String [] {
                "Id Empleado", "Nombres", "Apellidos", "Salario", "Telefono", "Numero identidad", "idCampus", "NombreUsuario", "tipoUsuario"
            }
        ));
        Tabla_Empleados.setToolTipText("Presiona consulta para ver todos los empleados");
        Tabla_Empleados.setAlignmentX(15.0F);
        Tabla_Empleados.setAlignmentY(15.0F);
        Tabla_Empleados.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        Tabla_Empleados.setGridColor(new java.awt.Color(0, 0, 0));
        Tabla_Empleados.setIntercellSpacing(new java.awt.Dimension(3, 3));
        Tabla_Empleados.setMaximumSize(new java.awt.Dimension(60, 64));
        Tabla_Empleados.setPreferredSize(new java.awt.Dimension(200, 64));
        Tabla_Empleados.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                Tabla_EmpleadosMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(Tabla_Empleados);

        btn_Limpiar.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        btn_Limpiar.setText("Limpiar");
        btn_Limpiar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_Limpiarbtn_limpiarActionPerformed(evt);
            }
        });

        lbl_usuario.setText("jLabel1");

        btn_rellenarCampos.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        btn_rellenarCampos.setText("Rellenar campos");
        btn_rellenarCampos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btn_rellenarCamposMouseClicked(evt);
            }
        });

        jMenu1.setText("Inicio");

        cbo_MenuPrincipal.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_P, java.awt.event.InputEvent.CTRL_MASK));
        cbo_MenuPrincipal.setText("Menu Principal");
        cbo_MenuPrincipal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbo_MenuPrincipalActionPerformed(evt);
            }
        });
        jMenu1.add(cbo_MenuPrincipal);

        cbo_ConsultaIndividual.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_I, java.awt.event.InputEvent.CTRL_MASK));
        cbo_ConsultaIndividual.setSelected(true);
        cbo_ConsultaIndividual.setText("Consulta Individual");
        cbo_ConsultaIndividual.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbo_ConsultaIndividualActionPerformed(evt);
            }
        });
        jMenu1.add(cbo_ConsultaIndividual);

        jMenuBar1.add(jMenu1);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(29, 29, 29)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(lbl_usuario)
                                .addGap(427, 427, 427)
                                .addComponent(lbl_titulo))
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 1174, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(216, 216, 216)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                        .addGap(1, 1, 1)
                                        .addComponent(lbl_identidad)
                                        .addGap(15, 15, 15)
                                        .addComponent(txt_Identidad, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(lbl_salario)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addComponent(lbl_nombres)
                                            .addComponent(lbl_apellidos)
                                            .addComponent(lbl_telefono))
                                        .addGap(18, 18, 18)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(txt_Apellido)
                                            .addComponent(txt_Nombre)
                                            .addComponent(txt_Salario)
                                            .addComponent(txt_Telefono, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))))
                                .addGap(70, 70, 70)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbl_nombreUsuario)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(25, 25, 25)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(lbl_tipoUsuario)
                                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                                .addComponent(lbl_idCampus)
                                                .addComponent(lbl_contraseña)))))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(pwd_contraseña)
                                    .addComponent(txt_NombreUsuario)
                                    .addComponent(cbo_tipoUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(cbo_idCampus, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(btn_guardar)
                                        .addGap(38, 38, 38)
                                        .addComponent(btn_Actualizar))
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(302, 302, 302)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(btn_rellenarCampos)
                                            .addGroup(layout.createSequentialGroup()
                                                .addComponent(btn_Eliminar, javax.swing.GroupLayout.PREFERRED_SIZE, 183, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGap(36, 36, 36)
                                                .addComponent(btn_consultar)))))
                                .addGap(18, 18, 18)
                                .addComponent(btn_Limpiar)))
                        .addGap(18, 18, 18)
                        .addComponent(chb_mostrarContraseña)))
                .addContainerGap(45, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(lbl_usuario)
                        .addGap(15, 15, 15))
                    .addComponent(lbl_titulo, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbl_nombres)
                            .addComponent(txt_Nombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbl_apellidos)
                            .addComponent(txt_Apellido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txt_Salario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbl_salario))
                        .addGap(29, 29, 29)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txt_Telefono, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbl_telefono)))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbl_nombreUsuario)
                            .addComponent(txt_NombreUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbl_contraseña)
                            .addComponent(pwd_contraseña, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(chb_mostrarContraseña))
                        .addGap(23, 23, 23)
                        .addComponent(cbo_idCampus, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(31, 31, 31)
                        .addComponent(cbo_tipoUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(90, 90, 90)
                        .addComponent(lbl_idCampus)
                        .addGap(29, 29, 29)
                        .addComponent(lbl_tipoUsuario)))
                .addGap(14, 14, 14)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txt_Identidad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbl_identidad))
                .addGap(51, 51, 51)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btn_guardar)
                    .addComponent(btn_Actualizar)
                    .addComponent(btn_Eliminar)
                    .addComponent(btn_consultar)
                    .addComponent(btn_Limpiar))
                .addGap(29, 29, 29)
                .addComponent(btn_rellenarCampos)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 43, Short.MAX_VALUE)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 118, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(19, 19, 19))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void txt_SalarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_SalarioActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_SalarioActionPerformed

    private void chb_mostrarContraseñaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chb_mostrarContraseñaActionPerformed
          if(chb_mostrarContraseña.isSelected()){
            pwd_contraseña.setEchoChar((char)0);
        }
        else{
            pwd_contraseña.setEchoChar('*');
        }
    }//GEN-LAST:event_chb_mostrarContraseñaActionPerformed

    private void pwd_contraseñaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_pwd_contraseñaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_pwd_contraseñaActionPerformed

    private void cbo_tipoUsuarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbo_tipoUsuarioActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_cbo_tipoUsuarioActionPerformed

    public boolean existeUsuario(){
        try {
            Statement st = con.createStatement();
            String sql = "Select nombre_usuario from Acceso where nombre_usuario = '"+txt_NombreUsuario.getText()+"'";
            ResultSet rs = st.executeQuery(sql);
            if(rs.next()){
                JOptionPane.showMessageDialog(null, "Ya existe usuario", "Usuarios", JOptionPane.INFORMATION_MESSAGE);
                return true;
            }
            else{
                return false;
            }
        } catch (SQLException ex) {
            Logger.getLogger(Empleado.class.getName()).log(Level.SEVERE, null, ex);
        }
        return false;
    }
    
    public boolean existeEmpleado(){
        try {
            Statement st = con.createStatement();
            String sql = "Select numero_identidad from Empleados where numero_identidad = '"+txt_Identidad.getText()+"'";
            ResultSet rs = st.executeQuery(sql);
            if(rs.next()){
                JOptionPane.showMessageDialog(null, "Ya existe empleado", "empleados", JOptionPane.INFORMATION_MESSAGE);
                return true;
            }
            else{
                return false;
            }
        } catch (SQLException ex) {
            Logger.getLogger(Empleado.class.getName()).log(Level.SEVERE, null, ex);
        }
        return false;
    }

    public boolean validarContraseñas(String contraseña){
        if(contraseña.length() > 7){
             if(politicasContraseña(contraseña)){
                 return true;
             }
             else{
                 JOptionPane.showMessageDialog(null, "La contraseña no cumple las directrices", "Politicas contraseñas", JOptionPane.ERROR_MESSAGE);
                 return false;
             }
        }
        else{;
            JOptionPane.showMessageDialog(null, "La contraseña es muy pequeña", "Longitud", JOptionPane.ERROR_MESSAGE); 
           return false; 
        }    
    }
    
    public boolean politicasContraseña(String contraseña){
        boolean tieneNumero = false; 
        boolean tieneMayusculas = false; 
        boolean tieneMinusculas = false;
        char c;
        
        for(int i=0; i<contraseña.length();i++){
            c = contraseña.charAt(i);
            if(Character.isDigit(c)){
                tieneNumero = true;
            }
            else if(Character.isUpperCase(c)){
                tieneMayusculas = true;
            }
            else if(Character.isLowerCase(c)){
                tieneMinusculas = true;
            }
            if(tieneNumero && tieneMayusculas && tieneMinusculas){
                return true;
            }
        }
        return false;
    }
    
    private void btn_guardarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_guardarActionPerformed

        String cadena1, cadena2, cadena3, cadena4, cadena5, cadena6, cadena7, cadena8, cadena9;
        cadena1 = txt_Nombre.getText();
        cadena2 = txt_Apellido.getText();
        cadena3 = txt_Salario.getText();
        cadena4 = txt_Telefono.getText();
        cadena5 = txt_Identidad.getText();
        cadena6 = cbo_idCampus.getSelectedItem().toString();
        String id_campus = cbo_idCampus.getSelectedItem().toString().substring(0, 4);
        cadena8 = txt_NombreUsuario.getText();
        cadena9 = pwd_contraseña.getText();
       String tipoUsuario = cbo_tipoUsuario.getSelectedItem().toString().substring(0,1);
        
        if ((txt_Nombre.getText().equals("")) || (txt_Apellido.getText().equals("")) || (txt_Salario.getText().equals(""))
         || (txt_Telefono.getText().equals(""))   || (txt_Identidad.getText().equals("")) || (cbo_idCampus.getSelectedItem().equals("Seleccione un campus")) || (txt_NombreUsuario.getText().equals(""))|| (pwd_contraseña.getText().equals("")) 
                || (cbo_tipoUsuario.getSelectedItem().equals("Seleccione un tipo de usuario")) ) {
            
            javax.swing.JOptionPane.showMessageDialog(this,"Debe llenar todos los campos \n","AVISO!",javax.swing.JOptionPane.INFORMATION_MESSAGE);
            txt_Nombre.requestFocus();
            return;
        }
        
        if(existeEmpleado()){
            return;
        }
        
        if(existeUsuario()){
            return;
        }
        
        if(!validarContraseñas(cadena9)){
            return;
        }
       
      try{
          PreparedStatement ps;
          ResultSet rs;
          ps=con.prepareStatement("INSERT INTO Empleados (nombres_empleado, apellido_empleado, telefono_empleado, id_campus, salario, numero_identidad)"
                  + "                VALUES(?,?,?,?,?,?)");
                  ps.setString(1, txt_Nombre.getText());
                  ps.setString(2, txt_Apellido.getText());
                  ps.setString(3, txt_Telefono.getText());
                  ps.setString(4, id_campus);
                  ps.setString(5, txt_Salario.getText());
                  ps.setString(6, txt_Identidad.getText());
                  int res= ps.executeUpdate();
                  if(res > 0){
                      
                  }else {
                      JOptionPane.showMessageDialog(null, "Error al Guardar la informacion"); 
                  }
       
      } catch ( Exception e) {
            System.out.println(e);
        }
         try{
             Statement st2=con.createStatement();
              String sql ="Insert into Acceso(nombre_usuario,clave_acceso,tipo_usuario) values('"+txt_NombreUsuario.getText()+"','"+pwd_contraseña.getText()+"','"+tipoUsuario+"')";
               int rs2 = st2.executeUpdate(sql);
              JOptionPane.showMessageDialog(null, "Se ha guardado la informacion correctamente");
          }catch ( Exception e) {
           JOptionPane.showMessageDialog(null, e.getMessage()); 
        }
        limpiar();   
    }//GEN-LAST:event_btn_guardarActionPerformed

    private void txt_NombreKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_NombreKeyTyped
        if(txt_Nombre.getText().length() >=100){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Numero maximo de caracteres admitidos");
        }
        char a=evt.getKeyChar();
        if(Character.isDigit(a)){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Solo letras");
        }
    }//GEN-LAST:event_txt_NombreKeyTyped

    private void txt_ApellidoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_ApellidoKeyTyped
       if(txt_Apellido.getText().length() >=100){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Numero maximo de caracteres admitidos");
        }
        char a=evt.getKeyChar();
        if(Character.isDigit(a)){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Solo letras");
        }
    }//GEN-LAST:event_txt_ApellidoKeyTyped

    private void txt_TelefonoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_TelefonoKeyTyped
       if(txt_Telefono.getText().length() >=8){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Numero maximo de caracteres admitidos");
        }
        char a=evt.getKeyChar();
        if(Character.isLetter(a)){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Solo numeros");
        }
    }//GEN-LAST:event_txt_TelefonoKeyTyped

    private void txt_SalarioKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_SalarioKeyTyped
        if(txt_Salario.getText().length() >=8){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Numero maximo de caracteres admitidos");
        }
        char a=evt.getKeyChar();
        if(Character.isLetter(a)){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Solo numeros");
        }
    }//GEN-LAST:event_txt_SalarioKeyTyped

    private void txt_NombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_NombreActionPerformed
        
    }//GEN-LAST:event_txt_NombreActionPerformed

    private void btn_consultarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_consultarActionPerformed

        try {
            
               String sql = "select * from Empleados as e join Acceso as a on e.id_empleado = a.id_empleado join \n" +
                "Campus as c on c.id_campus = e.id_campus";
               stmt = con.createStatement();
               ResultSet rs = stmt.executeQuery(sql);
               
               modelo = new DefaultTableModel(null,titulos);
               Tabla_Empleados.setModel(modelo);
                 while(rs.next()) {
                   
                      String []datos= new String[9];
                      datos[0] =rs.getString("id_empleado");
                      datos[1] =rs.getString("nombres_empleado");
                      datos[2] =rs.getString("apellido_empleado");
                      datos[3] =rs.getString("salario");
                      datos[4] =rs.getString("telefono_empleado");
                      datos[5] =rs.getString("numero_identidad");
                      datos[6] =rs.getString("id_campus") + " - " + rs.getString("nombre_campus");
                      datos[7] =rs.getString("nombre_usuario");
                      
                      if(rs.getString(10).equals("A")){
                          datos[8] = "Administrador";
                      }
                      else if(rs.getString(10).equals("E")){
                          datos[8] = "Empleado";
                      }
                      else if(rs.getString(10).equals("S")){
                          datos[8] = "Supervisor";
                      }
                      
                     // datos[8] =rs.getString(10);
                      modelo.addRow(datos);
                      
                      centrar_datos();
               }
                TableColumn idE = Tabla_Empleados.getColumn(titulos[0]);
                idE.setMaxWidth(125);
                idE.setIdentifier(ICONIFIED);
                TableColumn cn = Tabla_Empleados.getColumn(titulos[1]);
                cn.setMaxWidth(165);
                TableColumn ca = Tabla_Empleados.getColumn(titulos[2]);
                ca.setMaxWidth(165);
                TableColumn cs = Tabla_Empleados.getColumn(titulos[3]);
                cs.setMaxWidth(75);
                TableColumn ct = Tabla_Empleados.getColumn(titulos[4]);
                ct.setMaxWidth(90);
                TableColumn cid = Tabla_Empleados.getColumn(titulos[5]);
                cid.setMaxWidth(170);
                TableColumn cnomu = Tabla_Empleados.getColumn(titulos[6]);
                cnomu.setMaxWidth(165);
                TableColumn cidc = Tabla_Empleados.getColumn(titulos[7]);
                cidc.setMaxWidth(150);
                TableColumn ctipou = Tabla_Empleados.getColumn(titulos[8]);
                ctipou.setMaxWidth(95);
                
                
    
        }
        catch (Exception e) {
            JOptionPane.showMessageDialog(null,e.getMessage());
        }

        
        
    }//GEN-LAST:event_btn_consultarActionPerformed

    public void centrar_datos(){
 
        DefaultTableCellRenderer modelocentrar = new DefaultTableCellRenderer();
        modelocentrar.setHorizontalAlignment(SwingConstants.CENTER);
        Tabla_Empleados.getColumnModel().getColumn(2).setCellRenderer(modelocentrar);
    }
    private void cbo_MenuPrincipalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbo_MenuPrincipalActionPerformed
        this.dispose();
        
        Principal p = new Principal();
        p.setVisible(true);
    }//GEN-LAST:event_cbo_MenuPrincipalActionPerformed

    private void cbo_idCampusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbo_idCampusActionPerformed

    }//GEN-LAST:event_cbo_idCampusActionPerformed

    int filas;
    
    private void btn_ActualizarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_ActualizarActionPerformed

        if(JOptionPane.showConfirmDialog(null,"Estas seguro que quieres actualizar el registro"
        )==JOptionPane.YES_OPTION){
           
            
     String id_campus = cbo_idCampus.getSelectedItem().toString().substring(0, 4);
     String tipoUsuario = cbo_tipoUsuario.getSelectedItem().toString().substring(0,1);
      try{
          PreparedStatement ps;
          ResultSet rs;
          ps=con.prepareStatement("Update Empleados "
                  + "set nombres_empleado = ?,"
                  + "apellido_empleado = ?, "
                  + "telefono_empleado = ?, "
                  + "id_campus = ?, "
                  + "salario = ?, "
                  + "numero_identidad = ? "
                  + "where numero_identidad = '"+var+"' "
                          + "or nombres_empleado = '"+var+"' "
                                  + "or apellido_empleado = '"+var+"'");
                  ps.setString(1, txt_Nombre.getText());
                  ps.setString(2, txt_Apellido.getText());
                  ps.setString(3, txt_Telefono.getText());
                  ps.setString(4, id_campus);
                  ps.setString(5, txt_Salario.getText());
                  ps.setString(6, txt_Identidad.getText());
                  int res= ps.executeUpdate();
                  if(res > 0){
                      
                  }else {
                      JOptionPane.showMessageDialog(null, "Error al Guardar la informacion"); 
                  }
       
      } catch ( Exception e) {
            System.out.println(e);
        }
         try{
             Statement st2=con.createStatement();
              String sql ="Update Acceso "
                      + "set nombre_usuario = '"+txt_NombreUsuario.getText()+"'"
                      + ",clave_acceso = '"+pwd_contraseña.getText()+"',"
                      + "tipo_usuario = '"+tipoUsuario+"'"
                      + "where id_empleado = (Select id_empleado from Acceso where nombre_usuario = '"+txt_NombreUsuario.getText()+"')";
               int rs2 = st2.executeUpdate(sql);
              JOptionPane.showMessageDialog(null, "Se ha guardado la informacion correctamente");
          }catch ( Exception e) {
           JOptionPane.showMessageDialog(null, e.getMessage()); 
        }

         }
        limpiar();
    }//GEN-LAST:event_btn_ActualizarActionPerformed

    
    public void rellenar(){
            
        try {
            Statement st = con.createStatement();
            String consulta = "Select tipo_usuario from Acceso where nombre_usuario = '"+lbl_usuario.getText()+"'";
            ResultSet rs = st.executeQuery(consulta);
            
            if(rs.next()){
                if(rs.getString("tipo_usuario").equals("A")){
                    try{
                    String cap="";
                    ResultSet rs2 = null;
                    var = javax.swing.JOptionPane.showInputDialog(this,"Ingrese sus nombres o sus apellidos o su numero de identidad","Rellenar campos",javax.swing.JOptionPane.QUESTION_MESSAGE);
                    if(var == null)
                        javax.swing.JOptionPane.showMessageDialog(this,"La accion fue cancelada","AVISO!",javax.swing.JOptionPane.INFORMATION_MESSAGE);
                    else {
                        if (var.equals("")) {
                            javax.swing.JOptionPane.showMessageDialog(this,"Favor de ingresar el nombre del empleado\nquedesea consultar","AVISO!",javax.swing.JOptionPane.INFORMATION_MESSAGE);
                        }
                        else{
                            String sql = "select * from Empleados as e join Acceso as a on e.id_empleado = a.id_empleado join \n" +
                                    "Campus as c on c.id_campus = e.id_campus where numero_identidad = '"+var+"' or nombres_empleado = '"+var+"' or apellido_empleado = '"+var+"'";
                            stmt = con.createStatement();
                            rs2 = stmt.executeQuery(sql);
                           
                            if(rs2.next()) {
                                txt_Nombre.setText(rs2.getString("nombres_empleado"));
                                txt_Apellido.setText(rs2.getString("apellido_empleado"));
                                txt_Salario.setText(rs2.getString("salario"));
                                txt_Telefono.setText(rs2.getString("telefono_empleado"));
                                txt_Identidad.setText(rs2.getString("numero_identidad"));
                                cbo_idCampus.setSelectedItem((rs2.getString("id_campus") + " - " + rs2.getString("nombre_campus")));
                                txt_NombreUsuario.setText(rs2.getString("nombre_usuario"));
                                switch (rs2.getString("tipo_usuario")) {
                                    case "A":
                                        cbo_tipoUsuario.setSelectedItem("Administrador");
                                        break;
                                    case "E":
                                        cbo_tipoUsuario.setSelectedItem("Empleado");
                                        break;
                                    case "S":
                                        cbo_tipoUsuario.setSelectedItem("Supervisor");
                                        break;
                                    default:
                                        break;
                                }
                            }
                            else{
                                JOptionPane.showMessageDialog(null,"No se encuentra el empleado por favor verifique si lo escribio correctamente");
                            }
                            
                        }
                        
                    }
                    }catch (Exception e) {
                            JOptionPane.showMessageDialog(null,e.getMessage());
                            }
                }
                 else{
                            JOptionPane.showMessageDialog(null,"Solo los administradores tienen acceso");
                            }
                
                
            }
            
        } catch (SQLException ex) {
            Logger.getLogger(Empleado.class.getName()).log(Level.SEVERE, null, ex);
        }
        
    }
    private void cbo_ConsultaIndividualActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbo_ConsultaIndividualActionPerformed

        try {
            Statement st = con.createStatement();
            String consulta = "Select tipo_usuario from Acceso where nombre_usuario = '"+lbl_usuario.getText()+"'";
            ResultSet rs = st.executeQuery(consulta);
            
            if(rs.next()){
                if(rs.getString("tipo_usuario").equals("A")){
                    try{
                    String cap="";
                    ResultSet rs2 = null;
                    var = javax.swing.JOptionPane.showInputDialog(this,"Ingrese sus nombres, sus apellidos o su numero de identidad","Consulta Usuario",javax.swing.JOptionPane.QUESTION_MESSAGE);
                    if(var == null)
                        javax.swing.JOptionPane.showMessageDialog(this,"La accion fue cancelada","AVISO!",javax.swing.JOptionPane.INFORMATION_MESSAGE);
                    else {
                        if (var.equals("")) {
                            javax.swing.JOptionPane.showMessageDialog(this,"Favor de ingresar el nombre del empleado\nquedesea consultar","AVISO!",javax.swing.JOptionPane.INFORMATION_MESSAGE);
                        }
                        else{
                            String sql = "select * from Empleados as e join Acceso as a on e.id_empleado = a.id_empleado join \n" +
                                    "Campus as c on c.id_campus = e.id_campus where numero_identidad = '"+var+"' or nombres_empleado = '"+var+"' or apellido_empleado = '"+var+"'";
                            stmt = con.createStatement();
                            rs2 = stmt.executeQuery(sql);
                           
                            if(rs2.next()) {
                                String []datos= new String[9];
                                datos[0] =rs2.getString("id_empleado");
                                txt_Nombre.setText(rs2.getString("nombres_empleado"));
                                txt_Apellido.setText(rs2.getString("apellido_empleado"));
                                txt_Salario.setText(rs2.getString("salario"));
                                txt_Telefono.setText(rs2.getString("telefono_empleado"));
                                txt_Identidad.setText(rs2.getString("numero_identidad"));
                                cbo_idCampus.setSelectedItem((rs2.getString("id_campus") + " - " + rs2.getString("nombre_campus")));
                                txt_NombreUsuario.setText(rs2.getString("nombre_usuario"));
                                if(rs2.getString("tipo_usuario").equals("A")){
                                    cbo_tipoUsuario.setSelectedItem("Administrador");
                                }
                                else if(rs2.getString("tipo_usuario").equals("E")){
                                    cbo_tipoUsuario.setSelectedItem("Empleado");
                                }
                                else if(rs2.getString("tipo_usuario").equals("S")){
                                    cbo_tipoUsuario.setSelectedItem("Supervisor");
                                }
                      
                            }
                            else{
                                JOptionPane.showMessageDialog(null,"No se encuentra el empleado por favor verifique si lo escribio correctamente");
                            }
                            
                        }
                        
                    }
                    }catch (Exception e) {
                            JOptionPane.showMessageDialog(null,e.getMessage());
                            }
                   
                }
                 else{
                            JOptionPane.showMessageDialog(null,"Solo los administradores tienen acceso");
                            }
                
                
            }
            
        } catch (SQLException ex) {
            Logger.getLogger(Empleado.class.getName()).log(Level.SEVERE, null, ex);
        }
        

        
    }//GEN-LAST:event_cbo_ConsultaIndividualActionPerformed

    private void txt_IdentidadKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_IdentidadKeyTyped
     if(txt_Identidad.getText().length() >=13){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Numero maximo de caracteres admitidos");
        }
        char a=evt.getKeyChar();
        if(Character.isLetter(a)){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Solo numeros");
        }
    }//GEN-LAST:event_txt_IdentidadKeyTyped

    private void Tabla_EmpleadosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_Tabla_EmpleadosMouseClicked
     
       llenarCampos();
       
    }//GEN-LAST:event_Tabla_EmpleadosMouseClicked

    private void llenarCampos(){
        int i = Tabla_Empleados.getSelectedRow();
        txt_Nombre.setText(Tabla_Empleados.getValueAt(i, 1).toString());
        txt_Apellido.setText(Tabla_Empleados.getValueAt(i, 2).toString());
        txt_Salario.setText(Tabla_Empleados.getValueAt(i, 3).toString());
        txt_Telefono.setText(Tabla_Empleados.getValueAt(i, 4).toString());
        txt_Identidad.setText(Tabla_Empleados.getValueAt(i, 5).toString());
        txt_NombreUsuario.setText(Tabla_Empleados.getValueAt(i, 7).toString());
        cbo_idCampus.setSelectedItem(Tabla_Empleados.getValueAt(i, 6).toString());
        cbo_tipoUsuario.setSelectedItem(Tabla_Empleados.getValueAt(i, 8).toString());
    }
    
    private void btn_EliminarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_EliminarActionPerformed

        
    }//GEN-LAST:event_btn_EliminarActionPerformed

    
    
    private void btn_limpiarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_limpiarActionPerformed
        
           if(JOptionPane.showConfirmDialog(null,"Estas seguro que quieres eliminar el registro"
            )==JOptionPane.YES_OPTION){
           
            
     String id_campus = cbo_idCampus.getSelectedItem().toString().substring(0, 4);
     String tipoUsuario = cbo_tipoUsuario.getSelectedItem().toString().substring(0,1);
       try{
             Statement st2=con.createStatement();
              String sql ="Delete Acceso "
                      + "where id_empleado = (Select id_empleado from Acceso where nombre_usuario = '"+txt_NombreUsuario.getText()+"')";
               int rs2 = st2.executeUpdate(sql);
              
          }catch ( Exception e) {
           JOptionPane.showMessageDialog(null, e.getMessage()); 
        }
      try{
          PreparedStatement ps;
          ResultSet rs;
          ps=con.prepareStatement("Delete Empleados "
                  + "where numero_identidad = '"+var+"' "
                  + "or nombres_empleado = '"+var+"' "
                  + "or apellido_empleado = '"+var+"'");
                  int res= ps.executeUpdate();
                  JOptionPane.showMessageDialog(null, "Se ha borrado la informacion correctamente");
                  if(res > 0){
                      
                  }else {
                      JOptionPane.showMessageDialog(null, "Error al eliminar la informacion"); 
                  }
       
      } catch ( Exception e) {
            System.out.println(e);
        }
         }
        limpiar();
    }//GEN-LAST:event_btn_limpiarActionPerformed

    private void txt_IdentidadActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_IdentidadActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_IdentidadActionPerformed

    private void btn_Limpiarbtn_limpiarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_Limpiarbtn_limpiarActionPerformed
        
        limpiar();
        
    }//GEN-LAST:event_btn_Limpiarbtn_limpiarActionPerformed

    private void btn_rellenarCamposMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_rellenarCamposMouseClicked
       rellenar();
    }//GEN-LAST:event_btn_rellenarCamposMouseClicked

    private void limpiar(){
        txt_Nombre.setText(null);
        txt_Apellido.setText(null);
        txt_Salario.setText(null);
        txt_Telefono.setText(null);
        txt_Identidad.setText(null);
        txt_NombreUsuario.setText(null);
        pwd_contraseña.setText(null);
        cbo_idCampus.setSelectedIndex(0);
        cbo_tipoUsuario.setSelectedIndex(0);
        
    }
    private void txt_NombreUsuarioKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_NombreUsuarioKeyTyped
        if(txt_NombreUsuario.getText().length() >=25){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Numero maximo de caracteres admitidos");
        }
        char a=evt.getKeyChar();
    }//GEN-LAST:event_txt_NombreUsuarioKeyTyped

    private void pwd_contraseñaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_pwd_contraseñaKeyTyped
        if(txt_NombreUsuario.getText().length() >=25){
            evt.consume();
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "Numero maximo de caracteres admitidos");
        }
    }//GEN-LAST:event_pwd_contraseñaKeyTyped

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Empleado.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Empleado.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Empleado.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Empleado.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    new Empleado().setVisible(true);
                } catch (SQLException ex) {
                    Logger.getLogger(Empleado.class.getName()).log(Level.SEVERE, null, ex);
                }
            }
        });
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTable Tabla_Empleados;
    private javax.swing.JButton btn_Actualizar;
    private javax.swing.JButton btn_Eliminar;
    private javax.swing.JButton btn_Limpiar;
    private javax.swing.JButton btn_consultar;
    private javax.swing.JButton btn_guardar;
    private javax.swing.JButton btn_rellenarCampos;
    private javax.swing.JCheckBoxMenuItem cbo_ConsultaIndividual;
    private javax.swing.JMenuItem cbo_MenuPrincipal;
    private javax.swing.JComboBox<String> cbo_idCampus;
    private javax.swing.JComboBox<String> cbo_tipoUsuario;
    private javax.swing.JCheckBox chb_mostrarContraseña;
    private javax.swing.JButton jButton1;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lbl_apellidos;
    private javax.swing.JLabel lbl_contraseña;
    private javax.swing.JLabel lbl_idCampus;
    private javax.swing.JLabel lbl_identidad;
    private javax.swing.JLabel lbl_nombreUsuario;
    private javax.swing.JLabel lbl_nombres;
    private javax.swing.JLabel lbl_salario;
    private javax.swing.JLabel lbl_telefono;
    private javax.swing.JLabel lbl_tipoUsuario;
    private javax.swing.JLabel lbl_titulo;
    private javax.swing.JLabel lbl_usuario;
    private javax.swing.JPasswordField pwd_contraseña;
    private javax.swing.JTextField txt_Apellido;
    private javax.swing.JTextField txt_Identidad;
    private javax.swing.JTextField txt_Nombre;
    private javax.swing.JTextField txt_NombreUsuario;
    private javax.swing.JTextField txt_Salario;
    private javax.swing.JTextField txt_Telefono;
    // End of variables declaration//GEN-END:variables

    private void Item(String string) {
        throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
    }

   // private void consulta() {
       // throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
 // }

  

}
